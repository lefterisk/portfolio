"use strict";var console=console||{};angular.module("Portfolio",["ui.router","ngAnimate","ngResource","ngSanitize","ngCookies","angular-loading-bar","ngScrollbar","Portfolio.controllers","Portfolio.services","Portfolio.tpls","Portfolio.directives"]).config(["$stateProvider","$urlRouterProvider",function(o,t){o.state("home",{url:"/",templateUrl:"/tpls/home.html",controller:"HomeCtrl"}).state("home.about",{url:"about",views:{about:{templateUrl:"/tpls/about.html",controller:"AboutCtrl"}}}).state("home.work",{url:"work",views:{work:{templateUrl:"/tpls/work.html",controller:"WorkCtrl"}},resolve:{PortfolioItems:["PortfolioItems",function(o){return o()}]}}).state("404",{url:"/404",templateUrl:"/tpls/404.html",controller:"NotFoundCtrl"}),t.otherwise(function(o){var t=o.get("$state");t.go("404",null,{location:!1})})}]).config(["$locationProvider",function(o){o.html5Mode(!0)}]).config(["$httpProvider",function(o){o.defaults.headers.post["Content-Type"]="application/x-www-form-urlencoded;charset=utf-8",o.defaults.headers.put["Content-Type"]="application/x-www-form-urlencoded;charset=utf-8";var t=function(o){var e,r,n,l,i,a,s,c="";for(e in o)if(r=o[e],r instanceof Array){for(s=0;s<r.length;++s)i=r[s],n=e+"["+s+"]",a={},a[n]=i,c+=t(a)+"&";0==r.length&&(c+=encodeURIComponent(e)+"=&")}else if(r instanceof Object)for(l in r)i=r[l],n=e+"["+l+"]",a={},a[n]=i,c+=t(a)+"&";else void 0!==r&&null!==r&&(c+=encodeURIComponent(e)+"="+encodeURIComponent(r)+"&");return c.length?c.substr(0,c.length-1):c};o.defaults.transformRequest=[function(o){return angular.isObject(o)&&"[object File]"!==String(o)?t(o):o}]}]).config(["$httpProvider",function(o){o.defaults.headers.common["X-Requested-With"]="XMLHttpRequest"}]).run(["$rootScope","$state",function(o,t){Array.prototype.indexOf||(Array.prototype.indexOf=function(o,t){for(var e=t||0,r=this.length;r>e;e++)if(this[e]===o)return e;return-1})}]),angular.module("Portfolio.controllers",[]).controller("HomeCtrl",["$rootScope","$scope","$state","$stateParams","$timeout",function(o,t,e,r,n){o.isWorkState=!1,o.isAboutState=!1,o.$on("$stateChangeSuccess",function(e,r){"home"==r.name?(o.isWorkState=!1,o.isAboutState=!1):("home.about"==r.name||"home.work"==r.name)&&n(function(){t.$broadcast("rebuild:scrollbar")},600)})}]).controller("AboutCtrl",["$rootScope","$scope","$state",function(o,t,e){console.log("About1"),o.isWorkState=!1,o.isAboutState=!0}]).controller("WorkCtrl",["$rootScope","$scope","$state","PortfolioItems",function(o,t,e,r){console.log("Work"),o.isWorkState=!0,o.isAboutState=!1,t.portfolioItems=r.items}]).controller("NotFoundController",["$scope","$state",function(o,t){console.log("NotFound")}]),angular.module("Portfolio.directives",[]).directive("scrollsizescanner",["$window","$timeout",function(o,t){return{restrict:"A",replace:!1,controller:["$scope",function(o){}],link:function(e,r,n){var l=r.find("div")[0],i=n.pad?n.pad:0;l=angular.element(l).find("div")[0],t(function(){a()},200),angular.element(o).bind("resize",function(){a()}),e.$watch(n.ngShow,function(o,e){o&&t(function(){a()},400)});var a=function(){l.offsetHeight+i>=o.innerHeight?r.css("height",o.innerHeight-i+"px"):r.css("height",l.offsetHeight+"px"),e.$parent.$broadcast("rebuild:scrollbar")}}}}]),angular.module("Portfolio.services",[]).factory("Portfolio",["$resource",function(o){return o("/data/portfolio.json",{},{get:{method:"GET"}})}]).factory("PortfolioItems",["$q","Portfolio",function(o,t){return function(){var e=o.defer();return t.get(function(o){e.resolve(o)},function(){e.reject("Unable to fetch data")}),e.promise}}]),angular.module("Portfolio.tpls",[]);